<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnÃ¡lise de DesistÃªncias - COC PMDF</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #1a73e8, #6c8ef5);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .horizontal-dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        
        .card h2 {
            color: #1a73e8;
            margin-bottom: 15px;
            font-size: 1.4rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .stats-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        
        .stat {
            text-align: center;
            margin: 10px;
            flex: 1;
            min-width: 120px;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .ingressos { color: #1a73e8; }
        .formados { color: #34a853; }
        .desistencias { color: #ea4335; }
        .taxa { color: #f9ab00; }
        
        .chart-container {
            height: 300px;
            margin-top: 15px;
        }
        
        .horizontal-chart-container {
            height: 500px;
            margin-top: 15px;
        }
        
        .insights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .insight-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: flex-start;
        }
        
        .insight-icon {
            font-size: 2rem;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .alerta { color: #ea4335; }
        .tendencia { color: #f9ab00; }
        .sucesso { color: #34a853; }
        
        .conclusao {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            border-left: 5px solid #1a73e8;
        }
        
        .conclusao h2 {
            color: #1a73e8;
            margin-bottom: 15px;
        }
        
        .recomendacoes {
            margin-top: 20px;
        }
        
        .recomendacoes ol {
            margin-left: 20px;
        }
        
        .recomendacoes li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .curso-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .curso-nome {
            font-weight: bold;
        }
        
        .curso-taxa {
            font-weight: bold;
        }
        
        .alta { color: #ea4335; }
        .moderada { color: #f9ab00; }
        .baixa { color: #34a853; }
        
        .institutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .institution-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }
        
        .institution-name {
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        
        .institution-value {
            font-weight: bold;
            color: #1a73e8;
        }
        
        .female-police-card {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
        }
        
        .female-police-value {
            font-size: 3rem;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .female-police-label {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .dashboard, .horizontal-dashboard {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .stats-container {
                flex-direction: column;
            }
            
            .horizontal-chart-container {
                height: 400px;
            }
            
            .institutions-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>AnÃ¡lise de DesistÃªncias nos cursos de CHOQUE - PMDF</h1>
        <p class="subtitle">Desempenho dos turnos do 1Âº ao 16Âº COC</p>
    </header>
    
    <section class="dashboard">
        <div class="card">
            <h2>VisÃ£o Geral</h2>
            <div class="stats-container">
                <div class="stat">
                    <div class="stat-value ingressos">620</div>
                    <div class="stat-label">Total de Ingressantes</div>
                </div>
                <div class="stat">
                    <div class="stat-value formados">479</div>
                    <div class="stat-label">Total de Formados</div>
                </div>
                <div class="stat">
                    <div class="stat-value desistencias">141</div>
                    <div class="stat-label">Total de DesistÃªncias</div>
                </div>
                <div class="stat">
                    <div class="stat-value taxa">22,74%</div>
                    <div class="stat-label">Taxa Geral de EvasÃ£o</div>
                </div>
            </div>
            <p style="margin-top: 15px; text-align: center; font-style: italic;">
                Quase 1 em cada 4 alunos que ingressaram nÃ£o concluÃ­ram o curso.
            </p>
        </div>
        
        <div class="card">
            <h2>Taxa de EvasÃ£o por Curso</h2>
            <div class="chart-container">
                <canvas id="evasionChart"></canvas>
            </div>
        </div>
    </section>
    
    <section class="dashboard">
        <div class="card">
            <h2>Ingressantes vs Formados</h2>
            <div class="horizontal-chart-container">
                <canvas id="comparisonChart"></canvas>
            </div>
        </div>
        
        <div class="card">
            <h2>Ranking de EvasÃ£o</h2>
            <div id="rankingList">
                <!-- SerÃ¡ preenchido via JavaScript -->
            </div>
        </div>
    </section>
    
    <section class="horizontal-dashboard">
        <div class="card">
            <h2>Formados de Outras InstituiÃ§Ãµes: 68</h2>
            <div class="institutions-grid" id="institutionsList">
                <!-- SerÃ¡ preenchido via JavaScript -->
            </div>
        </div>
        
        <div class="female-police-card">
            <h2>Policiais Femininas Formadas</h2>
            <div class="female-police-value">16</div>
            <div class="female-police-label">Mulheres que concluÃ­ram o curso, sendo as primeiras no <strong>8Âº COC</strong>, realizado em 2014.Elas representam <strong>3,34%</strong> dos alunos formados.</div>
        </div>
    </section>
    
    <section class="insights">
        <div class="insight-card">
            <div class="insight-icon alerta">ðŸ”´</div>
            <div>
                <h3>Ponto de Alerta</h3>
                <p>O <strong>16Âº COC</strong> tem a maior taxa de evasÃ£o do perÃ­odo (<strong>51,28%</strong>). Mais da metade dos alunos que ingressaram desistiram.</p>
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-icon tendencia">ðŸ“ˆ</div>
            <div>
                <h3>TendÃªncia de Crise</h3>
                <p>A evasÃ£o dÃ¡ um salto a partir do <strong>9Âº COC</strong></p>
            </div>
        </div>
        
        <div class="insight-card">
            <div class="insight-icon sucesso">âœ…</div>
            <div>
                <h3>Menor EvasÃ£o</h3>
                <p>O <strong>4Âº COC</strong> se destaca com a menor taxa de evasÃ£o (<strong>2,04%</strong>), um exemplo a ser estudado e replicado. O <strong>7Âº COC</strong> tambÃ©m tem um desempenho excelente (5,56%).</p>
            </div>
        </div>
    </section>
    
    <section class="conclusao">
        <h2>ConclusÃ£o</h2>
        <p><strong>ConclusÃ£o:</strong> A evasÃ£o nÃ£o Ã© uniforme. Existe uma <strong>fase crÃ­tica </strong> a partir do 9Âº COC, que atinge seu Ã¡pice no Ãºltimo curso, 16Âº COC.</p>
        
        <div class="recomendacoes">
            <h3>RecomendaÃ§Ãµes:</h3>
            <ol>
                <li><strong>InvestigaÃ§Ã£o Profunda:</strong> Entender os motivos da alta evasÃ£o nos cursos 9 ao 16.</li>
                <li><strong>Programa de RetenÃ§Ã£o:</strong> Criar aÃ§Ãµes especÃ­ficas de suporte e acompanhamento para os alunos.</li>
                <li><strong>MotivaÃ§Ã£o:</strong> Estudar os fatores motivadores para que ainda existam tentantes.</li>
            </ol>
        </div>
    </section>

    <script>
        // Dados fornecidos
        const cursos = ['1Âº COC', '2Âº COC', '3Âº COC', '4Âº COC', '5Âº COC', '6Âº COC', '7Âº COC', '8Âº COC', 
                       '9Âº COC', '10Âº COC', '11Âº COC', '12Âº COC', '13Âº COC', '14Âº COC', '15Âº COC', '16Âº COC'];
        
        const ingressos = [33, 52, 32, 49, 30, 40, 36, 32, 43, 35, 36, 34, 45, 45, 44, 39];
        const formados = [28, 48, 25, 48, 27, 36, 34, 25, 23, 19, 25, 22, 39, 33, 28, 19];
        const desistencias = [5, 4, 7, 1, 3, 4, 2, 7, 20, 16, 11, 12, 6, 12, 16, 20];
        const taxas = [15.15, 7.69, 21.88, 2.04, 10.00, 10.00, 5.56, 21.88, 
                      46.51, 45.71, 30.56, 35.29, 13.33, 26.67, 36.36, 51.28];

        // Dados das instituiÃ§Ãµes
        const institutions = [
            { name: 'PMPA', value: 1 },
            { name: 'PMGO', value: 15 },
            { name: 'PMMS', value: 4 },
            { name: 'PMMT', value: 2 },
            { name: 'EB', value: 3 },
            { name: 'FAB', value: 10 },
            { name: 'PF', value: 5 },
            { name: 'PRF', value: 4 },
            { name: 'FN', value: 3 },
            { name: 'PMPB', value: 4 },
            { name: 'PMRN', value: 2 },
            { name: 'PMTO', value: 1 },
            { name: 'PMAP', value: 2 },
            { name: 'PMAM', value: 3 },
            { name: 'PMMG', value: 2 },
            { name: 'PMPR', value: 1 },
            { name: 'PPRN', value: 1 },
            { name: 'PPGO', value: 1 },
            { name: 'PPDF', value: 1 },
            { name: 'PMSC', value: 3 },
            { name: 'PMMA', value: 1 }
        ];

        // ConfiguraÃ§Ã£o do grÃ¡fico de evasÃ£o
        const evasionCtx = document.getElementById('evasionChart').getContext('2d');
        const evasionChart = new Chart(evasionCtx, {
            type: 'bar',
            data: {
                labels: cursos,
                datasets: [{
                    label: 'Taxa de EvasÃ£o (%)',
                    data: taxas,
                    backgroundColor: taxas.map(taxa => {
                        if (taxa >= 30) return '#ea4335'; // Alta
                        if (taxa >= 10) return '#f9ab00'; // Moderada
                        return '#34a853'; // Baixa
                    }),
                    borderColor: taxas.map(taxa => {
                        if (taxa >= 30) return '#d33426';
                        if (taxa >= 10) return '#e08d00';
                        return '#2e8b57';
                    }),
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Taxa de EvasÃ£o (%)'
                        },
                        max: 60
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `Taxa de evasÃ£o: ${context.parsed.y}%`;
                            }
                        }
                    }
                }
            }
        });

        // ConfiguraÃ§Ã£o do grÃ¡fico de comparaÃ§Ã£o horizontal
        const comparisonCtx = document.getElementById('comparisonChart').getContext('2d');
        const comparisonChart = new Chart(comparisonCtx, {
            type: 'bar',
            data: {
                labels: cursos,
                datasets: [
                    {
                        label: 'Ingressantes',
                        data: ingressos,
                        backgroundColor: 'rgba(26, 115, 232, 0.7)',
                        borderColor: 'rgba(26, 115, 232, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Formados',
                        data: formados,
                        backgroundColor: 'rgba(52, 168, 83, 0.7)',
                        borderColor: 'rgba(52, 168, 83, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'NÃºmero de Alunos'
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    }
                }
            }
        });

        // Preencher o ranking de evasÃ£o
        const rankingList = document.getElementById('rankingList');
        
        // Criar array de objetos para ordenaÃ§Ã£o
        const cursosComTaxas = cursos.map((curso, index) => {
            return {
                nome: curso,
                taxa: taxas[index]
            };
        });
        
        // Ordenar por taxa de evasÃ£o (maior para menor)
        cursosComTaxas.sort((a, b) => b.taxa - a.taxa);
        
        // Adicionar cada curso Ã  lista
        cursosComTaxas.forEach(curso => {
            const item = document.createElement('div');
            item.className = 'curso-item';
            
            const nome = document.createElement('span');
            nome.className = 'curso-nome';
            nome.textContent = curso.nome;
            
            const taxa = document.createElement('span');
            taxa.className = 'curso-taxa';
            
            // Determinar a classe de cor com base na taxa
            if (curso.taxa >= 30) {
                taxa.classList.add('alta');
            } else if (curso.taxa >= 10) {
                taxa.classList.add('moderada');
            } else {
                taxa.classList.add('baixa');
            }
            
            taxa.textContent = `${curso.taxa}%`;
            
            item.appendChild(nome);
            item.appendChild(taxa);
            rankingList.appendChild(item);
        });

        // Preencher a lista de instituiÃ§Ãµes (ordenadas por valor decrescente)
        const institutionsList = document.getElementById('institutionsList');
        
        // Ordenar instituiÃ§Ãµes por valor (decrescente)
        institutions.sort((a, b) => b.value - a.value);
        
        institutions.forEach(institution => {
            const item = document.createElement('div');
            item.className = 'institution-item';
            
            const name = document.createElement('div');
            name.className = 'institution-name';
            name.textContent = institution.name;
            
            const value = document.createElement('div');
            value.className = 'institution-value';
            value.textContent = institution.value;
            
            item.appendChild(name);
            item.appendChild(value);
            institutionsList.appendChild(item);
        });
    </script>
</body>
</html>
